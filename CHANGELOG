Version ClaSS-0.7.0 development release (08/02/2006)
---------------------------------------------------- 

Added a component field to the assessment table which signifies if the
columns apply to validating or non-validating or all components.

Added a status field to the component table which allows components to
marked as being validating (ie. returns a seperate distinct result at
the end of the course) or non-validating (has assessments which may
contribute to the final result but no seperate qualification at the
course's end).

Bugfix to the markbook. The grade field in score was unsigned which
prevents grades with negative values from working. This had been
silently setting any negative grades to the value of zero which if the
negative grade is the last in the grade scheme works anyway. 

Update the fetchAssessment function to include the use of year, stage
and printlabel.

Improved the identification of assesments in the report templates by
adding a label field to the assessment table. This now is used to both
label the printed assessments and to identify compatible assesments
that share that label within the report xml. This again changes all of
the templates!

Bug-fix to list_assessment script. It was broken by a simple type when
set to return an array as eids[].

Production of subject reports for printing has now ben fully moved out
to a suite of functions in fetch_reports. These are used by both the
ReportBook and the InfoBook. The MarkBook handles assessments in its
own way for the purposes of data-entry and so only makes use of the
fetchReportEntry function.

The ability to post multiple report comments to the reportentry table
for different teachers in the same subject area has now been
implemented. The entryn field is now an auto_increment. The stucture
of the Reports XML has been amended to accomodate this with a new
Comments tag. The Categories have been incorporated as a child of a
Comment to again allow for multiple entries.

A slight change to the XSL transformations has been made to parse
multiple comment sections correctly. More could be done to combine
multiple categories?

Added a resultstatus field to the assessment table and changed
resultstatus in eidsid to have a blank default value. The eidsid value
is only needed to indicate 'P' provisional or 'I' interim results when
assessment has a 'R' value for resultstatus.

First attempt at new reportbook option to calculate estimated results
based on stats and a baseline assessment. The estimate is itself an
assessment and has values stored in eidsid.

First attempt at importing (from a csv file) baseline statistics
values into the stats and statvalues table using a new option in
reportbook.

Changed list_assessment and list_stats to accept required and multi
options.

Moved handling csv file imports over to a new script
file_import_csv. This affects the student_import_action0 and
new_stats_action pages.

Version ClaSS-0.6.2 (08/01/2006)
--------------------------------------------

Added enrolment number to fetchStudent(). This now shows in the
InfoBook. It uses the formerupn field in the database.

Bugfix to new_report_action. Reports with only one assessment were
getting a corrupted eid in the rideid table. Caused by failing to
check the posted to be an array.

Version ClaSS-0.6.1 (12/12/2005)
--------------------------------------------

Widened the mimetypes accepted for new_staff uploads and fixed a bug
in the updateUser function that produced a duplicate key error.

Fixed a bug caused by the move to NOT NULL for course_id
fields. These prevented the responsibilities table from finding
pastoral groups.

Bugfix for the Export option in the MarkBook. Wrong filename was
given.

Added two new fields to the report table. One to restrict the comment
length (can't be done by maxlength for a textarea!) and another will be
used to flag the comment as compulsory. The new_report pages have been
updated to include these.

Bugfix to report printing. Reports with a comment but no categories was
breaking the XML for printing.

Edit single_report was still getting the full XML, changed to use
fetchshortStudent().

The onLoad javascript now tries to find tabindex=1 form element and
give this the focus. The focus was going astray in markbook
forms.

Improved the utility of the reports_reports_list page. It now compares
the classes a student is subscribed to with the assessments and
comments that have been actually completed. Allows a quick view of the
completion status for a set of reports prior to printing.

The list_forms script now supports the required option.

Install of two default mark definitions were failing due to an extra
comma in their description.

The create_markbook was missing the new component_id field from the
mark table.

Version ClaSS-0.6.0 (21/11/05)
--------------------------------------------- 

Added ncyear to the fetchShortStudent function.

The report_concerns_print stylesheet now differentiates between good
and bad comments.

Changed and fixed the filtering of marktypes offered by the
column_copy script. This now offers a sensible choice based on both
subjects of currently displayed classes and restricts them to
appropriate scoretypes. The action script now handles changes from
percentage to raw score and vice versa correctly. It also allows the
default outoftotal to be changed when appropriate.

Lots of changes to the stylesheets. Includes the listmenu becoming a
generic class for all the books.  Label and input pairs are now
positioned neatly with the required .formimages moved to be attached to
the label (prevents it floating off and being lost).

Replaced the javascript row-highligter with pure CSS on hover.

Improved the look of the column headers in the marktable. Changed
background colours to allow shade to follow order the displayed
classes.

Added columns to the eidsid table to record subject and component for
each result.

Added two columns to the report table to indicate if this is a short
or long report. Currently only the addcomment column is used though.

The edit_reports script now deletes blank scores from the database in
the same way that edit_scores does. This does not affect blank reportentries.

Fixed a bug with SEN scripts in the InfoBook. The field name for
subject in sencurriculum had changed to be subject_id but the
fetchStudent script had not been updated.

Comment shortcuts in the InfoBook and the MarkBook are now displayed
colour coded using new CSS classes of positive or negtive. Only the
most recent comment is used for this. The most recent comment's detail
is also attached as a popup using the title attribute.

Changed the ordering of the concerns to account for ncyear. The
fetchConcerns function now has a third attribute, ncyear, to filter by.

Fixed the printstyle css to only print displayed mark columns.

Added columns to the report table. This now knows the difference
between reports with or without comments and categories. Each report
can also have its own customised stylesheet. The report_reports_print
script has been changed appropriately.

Have moved the xsl and css sheets for report printing to a seperate
directory called trasnforms. This will live in the toplevel and allow
school-specific customised sheets without being overwritten during
upgrades.

Added a timestamp field to the users table for use in the logcounter script.

The end_options script now writes to a new table to record current
page and time of access. This too is used by the logcounter to judge
when a login no longer active.

Removed season and yearofexam fields from the eidmid and eidsid
tables. These can be derived from the date of the assessment.

Added a support form to email the local support person with a reuqest.

Added fields to the Background table to record category and
teacher. The category field has been given a set of definitions in
categorydef along with a confidential flag. ents_list script changed
to take account of the confidentality flag (only users with year
priviliges may view).

Removed the redundant teacher_id fields from the yeargroup, subject
and course tables.

Added a component_codes.csv file to curriculum packs.

Improved the quick_search in the InfoBook. Now uses wildcards fro both
surname and forename.

Implemented the Export button in the MarkBook. This now calls a script
to write the checked columns to a csv file. The user is redirected to
download the file via a javascript window.

Bug-fixed the column_level scripts so that they don't lose the mid of
the column being levelled when a new level scheme is defined.

Levelling now works correctly for both raw scores and percentages.

Changed the filtering of markdefs to be related only to the classes on
display (this replaces filtering by responsibilities).

Intoduced a messy kludge to fix the copying of columns which are
avergaes of scoretypes other than grades. This will disappear with the
move away from dynamic columns in the next release.

Introduced a new div class in the css which replaces the use of <H4>
elements for displaying a header to the current page. All <H4>'s
should have been removed now.

Finally added a CAPSLOCK check to the login page. This uses and
onkeypress even to call some javascript.

The install script now checks to see if a database already exists with
the same name. Improved the wording of the prompts and added links to
documentation.

Replaced the insert_teacher script with an updateUser function.

Added a user management page 'staf_details' to the admin book. Allows
any staff with responsibilities to chnge details. Changing the
password and nologin-flag is restricted only to the administrator,
howver. Email notification is sent of new passwords.

Bug-fix to saving the import definitions. $submit had nod been changed to $sub.

Changed date order in the checkEntry function to be year/month/day.

Changed the checkLogin function in authenticate to respect to the nologin flag.

Renamed concerns to be comments and added a rating option to allow for
positive and negative comments (this is currently only displayed upon
input). Its is now also possible to select multiple categories for one
concern.

Introduced a new findResponsible function to grab usernames and email
addresses.  Works for both pastoral (using $sid) and academic
responsibilties (using $sid and $bid).

Added a new field ('e' for an email flag) to the perms table. Upgrade
to 0.5.3 by applying the patch-0.5.3.sql file in the install directory.

Added a new filed to school.php to make the site-address
available. This is used as the From field in emails posted by the
system.

Rewrote the Incidents form in ents_list to include subject and date
info. Automatically tries to post an email of the Incident to alert
users identified by findResponsible.

Added clickthrus for the incident reports in the student_list and
markbook table.

Added a component slect menu to the MarkBook's sidebar. Only visible
when components are available, and reloads the marks table when posted
to display only the marks for the chosen component.

New script list_components is used exclusively in the markbook for
listing components based on the currenty selected classes.

Integrated the components into column_edit and new_mark2. This now
make them fully functional.

Fixed bug in repsonsables_edit which prevented removing of subject
responsibilities.

Made the javascript print function truly generic by looking for a
single div id value (viewcontent), only the id of the current book's
iframe is now passed to the script.

Changed the edit_scores page to display the name of the mark and the
name of the grading scheme. 

Changed edit_score and reports_edit to use the buttonmenu and
formtoprocess scheme.

Definitively removed allcourseshome.html

The AboutBook now, at last, has two scripts. Implemented the
bug-report and feature-request options which post emails to the ClaSS
support lists.

Version ClaSS-0.5.2 development release (28/08/05)
--------------------------------------------- 

Maintaining state is now properly managed when the responsibility 
is changed in the LogBook using a session variable for current.

The user-interface improvements are now completed in the MarkBook
and AdminBook. The code has been tidied. Two books still to go.

The AdminBook options have been slightly reorganised and simply
renamed in some cases. All control for the course currently being worked
on is now lifted out to the LogBook. All form buttons have been moved
to the universal button menu.

Student Transfers has been broken for about 18months! So removed it.

The Classes option now includes a tool to populate and manage students in 
form, in the wsame way that it does teching classes. This replaces the very 
old file up-load.

File upload of New Teachers has been fixed.

A number of bug fixes to the MarkBook associated with the 
rewriting of the javascript functions in the 0.5.1 release.

Version ClaSS-0.5.1 development release (10/08/05)
--------------------------------------------- 

The focus of the changes is improving the underlying sturcture of the
user interface and improving the use of stylesheets. This has been
realised first in the LogBook and is on-going in the MarkBook.

Improved the stucture of the action pages in the MarkBook. Now uses a
generic results script. Also generic action buttons have been
intoduced with Javascript control behind them.

Moved the exit.php script to be under the users (logbook) directory.

The image-based tabs have been replaced using CSS.

The stylesheet files have been reorganised to match the structure of
the books.

The options in the MarkBook have been reorganised. The options menu in
the sidebar (define_levels and define_marktype etc) has been scrapped
and the functions resdistributed in the column action pages.

A DHTML (Javascript and CSS) select menu has been added to the sidebar
replacing the show/hide system for managing the display of
columns. This is a notable useability improvement.

Version ClaSS-0.5.0 development release (14/07/05)
---------------------------------------------

Changes to the database tables since 0.4.3 mark this transition to
from stable to development.  All the database changes are logged in a
seperate patch file 0.5update.sql available seperately if you have
an existing database you need to convert.

The mark table now allows two additional and related mark-types
(compound and report) which reference other mark columns using the
midlist field without doing anything themselves. The structure of the
report tables is now established.

A curriculum update option has been added to ClaSSAdmin. This
implements the new method of inserting predefined curriculum
information into the database. The "curriculum packs" containing this
information will now be distributed seperately and contributions of
new versions for different national curriculums would be welcomed.
This method has the advantage of allowing the curriculum data to be
updated at any time after installation.

New javascript functions included which allow for the printing of
formatted report information. They work by pulling raw xml data from
the current frame, loading an XSLT stylesheet (specific to that the
report) and displaying the transformation in a pop-up print window. A
CSS stylesheet is used to format the result.

The option to collate subject reports by form or yeargroup for a
choice of courses and subjects has now been added to the
ReportBook. Their is then the ability to print these using the XSLT
functions.  This completes the main functions of the ReportBook.

The install process changed and simplified, removing all curriculum
related inserts to the database.

Report concern pages adapted to use the new xml printing functions.

Column averages now extended to include test percents as well as grades.

The idea of the WebBook has changed back to the original plan of
integrating with a VLE/CMS. The messy javascript that handled
courseArray has therefore been scrapped.

A new type of column added to the MarkBook to handle subject reports. This is
the first use of the compound mark facility. A basic edit singlereport form
is used to complete the subject report.

First attempt at providing statistical analysis of the report on
assessments.  Stats data is written to javascript arrays for display
client-side using the Javascript Diagram Builder functions in a moveable div
window. Pretty basic at the moment.

A new feature added to the ReportBook: reporting assessments allows a
view of assessment (tracking) grades for a whole yeargroup.  These can
be displayed by subject (averaging over many assessments) or displayed
by assessment (avergaing over many subjects). Limited to averaging
over one type of grade definition at the moment.

Auto-generating mark columns for new assessments is now an option when 
creating a new assessment. This will guess a suitable mark definition for 
the columns based on crid, method and resultq of the assessment. One distinct 
mark column is created for each subject selected.

A new database table called 'method' to make explicit the link between 
assessments and mark definitions. The assessments use CBDS methods and 
resultqualifiers which need to be linked to the appropriate locally defined 
mark definitions and grading schemes. There is no unique relationship 
between resultqualifiers and mark definitions. This supercedes the 
resultqualifer field added to the markdef table in 0.4.2. Required new 
select inputs added to the define_mark pages, so an entry appears in method.

Changed the way column_copy handles the out-of-totals when copying
sums. If the mark-type is being changed, a default out-of-total can be
assigned by the user. Otherwise it sums the out-of-totals from the
scores and uses that. Previously this was broken and failing to copy
marks without and out-of-total.

Fixed a bug in column_level_action to grab the new mark's id.

Added back-buttons to report_concerns and tidied display.

To aid identification, added the date to the pull-down menu of hidden
marks in class_view.

New table in the database categorydef; stores the properties of
categories used for reporting criteria and for classifying concerns.

Completed the category feature for concerns. This has required adding
the <Categories> element to the Student array.

Added rows to the InfoBook tables to record teacher_id (of the
author) and subject_id when needed: this means changes to tables
activities, prizes, incidents, fails.

Incorporated exlcusions into the single generic ents_list suite of
pages as the rest of the InfoBook history options. The
student_view_exclusions pages are now deleted from the repository.
Changed the session field of the exlclusions table to include a NA in
the enum array.

Added an iteration count to the date-form so it may be called more
than once in the same form.

Version ClaSS-0.4.2 stable release (23/01/05)
---------------------------------------------

A group of pages added under the ReportBook which provide a function
to collate and report on concerns (since a specified date) for
students grouped by either subject or year.

The search_action was broken when a single student was returned, so
removed the shortcut to the syudent_view and just leave as the
student_list by default.

Included two click-throughs from the class_view in the MarkBook to the
InfoBook.  A 'T' to view student_scores for easy access to tracking
data.  A 'C' that links through to post or view concerns.

Fixed a serious bug in column_edit in the MarkBook. Not all classes
associated with a mark are neccessarily dispayed in the selct list -
only those the user has responsibilities for. Changing the associated
classes was thus wrongly unassociating all of the undisplayed classes
without notice, as they weren't selected on the screen! Now limits
changes to only the displayed class list.

The column_delete option previously only deleted the students' scores
for the deleted mark if the delete for ALL option had been
chosen. This is changed now so deleting removes the scores dor
students in that class and unassociates the mark from the class. If
the scores need to be returned the correct change is simple to
unassociate the mark using column_edit.

Removed the resultqualifier field from eidmid table. Will always be
defined by resultqualifier in the assessment table. Added a
resultqualifier field to the markdef table.

Tidied up the predefined grading schemes in the install scripts.

Extended the student_scores tracking view to have grade averages at
the end of each assessment row. This requires the use of the
resultqualifier to find a markdef and hence the grading for that
assessment.

Version ClaSS-0.4.1 stable release (09/11/04)
---------------------------------------------

New for 0.4.1 is the desgination of marks in the MarkBook as
Assessments. This allows grades to be lifted out of the MarkBook and
placed in a new context ie. the tracking button in the InfoBook to
monitor indiviual student progress across all subjects; and (to be
implemented in 0.6) for collation into a report generated in the
ReportBook.

Infobook find_sid now uses order by surname, forename for all
searches.  Fixed navigating the student_list display using next and
previous buttons when viewing student records and tracking scores.

The selection of a mark-type in new_mark is changed to include
descriptive comments, and the action seperated over two pages.

Implemented non-author permissions for col_edit and col_delete. Based
on the crid/bid of the classes that a mark belongs to.

Bugfix for ranking sums of columns.

Bugfix to the pre-selection of levels in column_level. Now determined by the
crid/bid of the displayed classes.

Improvement to the crid/bid selection for define_marks and define_grades 
to avoid multiples of the same option and to translate wildcard characters.

Bug-fixed the entrydate in column_copy (as date_form had changed).

---------------------------------------------------------------------

Version ClaSS-0.4.0 stable release (17/10/04)
---------------------------------------------

New pages added to the infobook to handle the MedicalFlag in 
student_view. Just 'barebones' functionailty for now.

Added the long-overdue ability to change the use of a mark to different 
classes in the column_edit page. Note a mark can be completely 
unattached from classes like this but still exists in the tables ie. its 
not the same as deleting a mark.

Completed click-thru from class_view to class_edit.

Re-styled student_transfer: much simpler, more compact, scrolls better.

Corrected positioning of buttons in edit_scores.

Changed user log to a positioned table.

Fixed ranking by percentage for percent=100.

Introduced a click-thru from class_view in MarkBook to the class_edit
in the adminBook to make changing class lists quicker and easier.

Reworked Manage Classes to get bid and crid from respons, to more
easily select classes to display. And limited to the view to subjects 
taught if no repsons.

Added the eidmid table for linking an assessment with marks. Still
working towards implementation of assessments in the markbook.

Link between markbook sen flag and the sen page in infobook completed.

Formatted sen views. Problem with textareas not wrapping (could be ffx
bug?) even when wrap set to soft, virtual, hard etc etc.

Bug-fix to permissions when removing responsibilities in responsables.

Re-wrote the install instructions. And moved some needed files into the install 
directory for later positioning in the top-level site-directory.

SEN component added to InfoBook. Included moving the call to fetchstudent from
student_view to the toplevel infobook.php. This allows for a direct click-thru 
from the MarkBook to view SEN details and maybe more in future.

Added row numbers to class_view.

Bug-fix for the student_view when only one sid is in the sids list.

Bug-fix to the display of the bottom grade in edit_scores.

Changed length of author field to be 14 so it matches the username and
avoids a truncation error.

Added temporary but functoning pages for exlusions and SEN in the infobook.

Fixed a bug when changing ncyear of student in student_view_student.

Working on tieing marks to the assessment table: col_edit gets an
assessment box; to allow for hierachical display of assessment marks
in the class_view had to introduce a new field 'hierachy' to the
course table.

Corrected the selection of permissions in the logbook (host.php) to only show 
academic and not pastoral, as only the academic influence the markbook display.

Added a logcount field to the users table. Provides some usage stats under 
Manage Users for the admin.

---------------------------------------------------------------------

Version ClaSS-0.4beta (31/08/04)
--------------------------------

        A fully-functional working release. The MarkBook and InfoBook
are ready to use and the Admin offers enough tools to support a
working school installation.

----------------------------------------------------------------------

Version 0.3.6 (2/07/04)
-----------------------

	New directory structure. Moved all school specific information 
out of class directory to a class-site directory.

Verison 0.3.1 (5/04/04)
	The newstyle markbook is underway. Including new table structure 
to provide user-defined types of marks, and grade names etc.

Version 0.3
	Defined the modular book structure in the file system. Added 
hostpages for presenting each book's scripts and options. 
	Lot of new admin functions. Tools to setup class lists 
and assign teachers. The table:classes is new for this.

---------------------------------------------------------------------

Version 0.2.1 (8/03/04)
-----------------------

	Added install directory and auto-magic scripts to set up the 
database. 

Version 0.2 (27/02/04)
----------------------

	The markbook now does enough to qualify as useful and 
functional. It deserves a release. Still missing a student transfer 
option though.

Version 0.1 (20/01/03)
----------------------

	After much messing the core database structure is now fixed in 
stone. Functionality of the scripts is the priority.

